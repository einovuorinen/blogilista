{"version":3,"sources":["hooks/index.js","services/login.js","services/blogs.js","components/Blog.js","components/BlogForm.js","components/Togglable.js","App.js","index.js"],"names":["useField","type","_useState","useState","_useState2","Object","slicedToArray","value","setValue","onChange","event","target","reset","services_login","login","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","credentials","response","wrap","_context","prev","next","console","log","axios","post","sent","abrupt","data","stop","_x","apply","this","arguments","token","services_blogs","getAll","get","setToken","newToken","concat","create","_ref2","_callee2","newObject","config","_context2","headers","Authorization","update","_ref3","_callee3","id","_context3","put","_x2","_x3","remove","_ref4","_callee4","_context4","delete","_x4","Blog","blog","likeBlog","removeBlog","blogStyle","paddingTop","paddingLeft","border","borderWidth","marginBottom","fullDisp","setFullDisp","user","react_default","createElement","style","onClick","title","author","href","url","likes","name","BlogForm","props","onSubmit","addBlog","newTitle","handleTitleChange","newAuthor","handleAuthorChange","newUrl","handleUrlChange","Togglable","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","buttonLabel","children","ErrorMessage","message","className","Notification","App","blogs","setBlogs","usernameField","passwordField","_useState3","_useState4","setUser","_useState5","_useState6","errorMessage","setErrorMessage","_useState7","_useState8","notif","setNotification","_useState9","_useState10","setNewTitle","_useState11","_useState12","setNewAuthor","_useState13","_useState14","setNewUrl","useEffect","blogService","then","initialBlogs","loggedUserJSON","window","localStorage","getItem","JSON","parse","handleLogin","username","password","_user2","preventDefault","loginService","setItem","stringify","t0","setTimeout","blogObject","map","b","confirm","filter","App_ErrorMessage","App_Notification","removeItem","components_Togglable","components_BlogForm","sort","components_Blog","key","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.83196022.chunk.js","sourcesContent":["import { useState } from 'react'\r\n\r\nexport const useField = (type) => {\r\n  const [value, setValue] = useState('')\r\n\r\n  const onChange = (event) => {\r\n    setValue(event.target.value)\r\n  }\r\n\r\n  const reset = (event) => {\r\n    setValue('')\r\n  }\r\n\r\n  return {\r\n    type,\r\n    value,\r\n    onChange,\r\n    reset\r\n  }\r\n}","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  console.log(credentials)\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst update = async (newObject, id) => {\n  const response = await axios.put(baseUrl.concat('/').concat(id), newObject)\n  return response.data\n}\n\nconst remove = async id => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.delete(baseUrl.concat('/').concat(id), config)\n  return response.data\n}\n\nexport default { getAll, setToken, create, update, remove }","import React, { useState } from 'react'\nconst Blog = ({ blog, likeBlog, removeBlog }) => {\n  const blogStyle = {\n    paddingTop: 10,\n    paddingLeft: 2,\n    border: 'solid',\n    borderWidth: 1,\n    marginBottom: 5\n  }\n\n  const [fullDisp, setFullDisp] = useState(false)\n\n  if (!fullDisp) return (\n    <div style={blogStyle}>\n      <div onClick={() => setFullDisp(!fullDisp)}>\n        {blog.title} {blog.author}\n      </div>\n    </div>\n  )\n  console.log(blog.user)\n  return (\n    <div style={blogStyle}>\n      <div onClick={() => setFullDisp(!fullDisp)}>\n        {blog.title} {blog.author}\n      </div>\n      <a href={blog.url}>{blog.url}</a><br/>\n      {blog.likes} likes<button onClick={(event) => likeBlog(event, blog)}>like</button><br/>\n        added by {blog.user.name}<br/>\n      <button onClick={(event) => removeBlog(event, blog)}>remove</button>\n    </div>\n  )}\n\nexport default Blog","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst BlogForm = (props) => (\n  <form onSubmit={props.addBlog}>\n      Title<input\n      value={props.newTitle}\n      onChange={props.handleTitleChange}\n    /><br/>\n      Author<input\n      value={props.newAuthor}\n      onChange={props.handleAuthorChange}\n    /><br/>\n      Url<input\n      value={props.newUrl}\n      onChange={props.handleUrlChange}\n    /><br/>\n    <button type=\"submit\">create</button>\n  </form>\n)\nBlogForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  handleTitleChange: PropTypes.func.isRequired,\n  handleAuthorChange: PropTypes.func.isRequired,\n  handleUrlChange: PropTypes.func.isRequired,\n  newUrl: PropTypes.string.isRequired,\n  newAuthor: PropTypes.string.isRequired,\n  newTitle: PropTypes.string.isRequired\n}\n\nexport default BlogForm","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\n\nconst Togglable = (props) => {\n  const [visible, setVisible] = useState(false)\n\n  const hideWhenVisible = { display: visible ? 'none' : '' }\n  const showWhenVisible = { display: visible ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\n      </div>\n      <div style={showWhenVisible}>\n        {props.children}\n        <button onClick={toggleVisibility}>cancel</button>\n      </div>\n    </div>\n  )\n}\n\nTogglable.propTypes = {\n  buttonLabel: PropTypes.string.isRequired\n}\n\nexport default Togglable","import React, { useState, useEffect } from 'react'\nimport  { useField } from './hooks'\nimport loginService from './services/login'\nimport blogService from './services/blogs'\nimport Blog from './components/Blog'\nimport BlogForm from './components/BlogForm'\nimport Togglable from './components/Togglable'\n\nconst ErrorMessage = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"notif\">\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([])\n  //const [username, setUsername] = useState('')\n  //const [password, setPassword] = useState('')\n  const usernameField = useField('text')\n  const passwordField = useField('password')\n\n\n  const [user, setUser] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [notif, setNotification] = useState(null)\n  //For blog creating form\n  const [newTitle, setNewTitle] = useState('')\n  const [newAuthor, setNewAuthor] = useState('')\n  const [newUrl, setNewUrl] = useState('')\n\n  useEffect(() => {\n    blogService\n      .getAll().then(initialBlogs => {\n        setBlogs(initialBlogs)\n      })\n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      blogService.setToken(user.token)\n    }\n  }, [])\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const username = usernameField.value\n      const password = passwordField.value\n      const user = await loginService.login({\n        username, password,\n      })\n\n      window.localStorage.setItem(\n        'loggedBlogUser', JSON.stringify(user)\n      )\n\n      setUser(user)\n      usernameField.reset()\n      passwordField.reset()      //setPassword('')\n    } catch (exception) {\n      setErrorMessage('wrong credentials')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  const handleLogout = () => {\n    window.localStorage.removeItem('loggedBlogUser')\n    setUser(null)\n    setNotification('logged out')\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n  }\n\n  const handleTitleChange = (event) => {\n    setNewTitle(event.target.value)\n  }\n\n  const handleAuthorChange = (event) => {\n    setNewAuthor(event.target.value)\n  }\n\n  const handleUrlChange = (event) => {\n    setNewUrl(event.target.value)\n  }\n\n  const addBlog = (event) => {\n    event.preventDefault()\n    const blogObject = {\n      title: newTitle,\n      author: newAuthor,\n      url: newUrl,\n      likes: 0,\n      user: user.id\n    }\n\n    blogService\n      .create(blogObject)\n      .then(data => {\n        setBlogs(blogs.concat(data))\n        setNewAuthor('')\n        setNewUrl('')\n        setNewTitle('')\n      })\n    setNotification('blog was created succesfully')\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n  }\n\n  const likeBlog = (event, blog) => {\n    event.preventDefault()\n    const blogObject = {\n      title: blog.title,\n      author: blog.author,\n      url: blog.url,\n      likes: blog.likes + 1,\n      user: blog.user\n    }\n\n    console.log(blogObject.user)\n    blogService\n      .update(blogObject, blog.id)\n      .then(data => {\n        setBlogs(blogs.map(b => {\n          if (b.id === data.id) {\n            return data\n          } else return b\n        }))\n      })\n  }\n\n  const removeBlog = (event, blog) => {\n    event.preventDefault()\n    if (window.confirm(`remove ${blog.title} by ${blog.author}`)) {\n      blogService\n        .remove(blog.id)\n        .then(setBlogs(blogs.filter(b => b.id !== blog.id)))\n    }\n  }\n\n  const loginForm = () => (\n    <form onSubmit={handleLogin}>\n      <div>\n        username\n        <input {...usernameField}/>\n        \n      </div>\n      <div>\n        password\n        <input {...passwordField}/>\n        \n      </div>\n      <button type=\"submit\">login</button>\n    </form>\n  )\n\n\n\n  if (user === null) {\n    return (\n      <div>\n        <h2>Log in to application</h2>\n        <ErrorMessage message={errorMessage}/>\n        <Notification message={notif}/>\n        {loginForm()}\n      </div>\n    )\n  }\n  console.log(blogs)\n  return (\n    <div>\n      <h2>blogs</h2>\n      <ErrorMessage message={errorMessage}/>\n      <Notification message={notif}/>\n      <p>{user.name} logged in </p> <button onClick={handleLogout}>logout</button>\n      <Togglable buttonLabel=\"new blog\">\n        <BlogForm\n          addBlog={addBlog}\n          newTitle={newTitle}\n          handleTitleChange={handleTitleChange}\n          newAuthor={newAuthor}\n          handleAuthorChange={handleAuthorChange}\n          newUrl={newUrl}\n          handleUrlChange={handleUrlChange}\n        />\n      </Togglable>\n      {blogs.sort((a, b) => b.likes - a.likes).map(blog =>\n        <Blog key={blog.id} user={user} blog={blog} likeBlog={likeBlog} removeBlog={removeBlog}/>\n      )}\n    </div>\n  )\n}\n\nexport default App\n","\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}